能跑能运行
```C#
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;


/// <summary>
/// 实体
/// </summary>
public enum GainElementType
{
    LoveGain = 8,
    HeroGain = 1,
    HourseGain = 3

}
public class GainPanel : MonoBehaviour
{
    [Header("动态加载出来的父节点")]
    [SerializeField]
    private Transform Content;

    [Header("物品框预制体")]
    [SerializeField]
    private GameObject gainItem;

    [Header("选情缘亮")]
    [SerializeField]
    private GameObject LoveSelect;

    [Header("选结交亮")]
    [SerializeField]
    private GameObject FriendSelect;

    [Header("选坐骑亮")]
    [SerializeField]
    private GameObject HourseSelect;

    [Header("最上面的背景图片")]
    [SerializeField]
    private Sprite[] myImageSprite;

    [Header("顶部图片")]
    [SerializeField]
    private GameObject imgTop;

    [Header("装所有按钮")]
    [SerializeField]
    private Button[] PanelAr;

    [Header("看广告框预制体")]
    [SerializeField]
    private GameObject g_Items;

    [Header("还未开放预制体")]
    [SerializeField]
    private GameObject null_Items;


    public enum ButtonType
    {
        LovePanel,
        FriendPanel,
        HoursePanel
    }
    private List<GainEntity> GainList = new List<GainEntity>();

    Dictionary<string, GainItem> itemViewDic = new Dictionary<string, GainItem>();

    private void Awake()
    {
        SetupButtonClickEvents();


        GainList = GameEntry.DataTable.DataTableManager.GainDBModel.GetList();


        InitGainPanelCallBack(ButtonType.LovePanel, LoveViewDic, GainElementType.LoveGain);
        itemViewDic = LoveViewDic;
    }
    private Dictionary<string, GainItem> LoveViewDic = new Dictionary<string, GainItem>();
    private Dictionary<string, GainItem> FriendViewDic = new Dictionary<string, GainItem>();
    private Dictionary<string, GainItem> HourseViewDic = new Dictionary<string, GainItem>();

    private void SetupButtonClickEvents()
    {

        int Btnlength = PanelAr.Length;
        for (int j = 0; j < Btnlength; j++)
        {
            EventTriggerListener.Get(PanelAr[j].gameObject).onClick = BtnCtrl;
        }

    }


    // 三个界面的切换
    public void BtnCtrl(GameObject go)
    {

        ButtonType type = (ButtonType)Enum.Parse(typeof(ButtonType), go.name);
        ChangeBg(type);
        deleteContent();
        
        switch (type)
        {
            case ButtonType.LovePanel:  
                itemViewDic = LoveViewDic;
                InitGainPanelCallBack(ButtonType.LovePanel, itemViewDic, GainElementType.LoveGain);
                break;
            case ButtonType.FriendPanel:
                itemViewDic = FriendViewDic;
                InitGainPanelCallBack(ButtonType.FriendPanel, itemViewDic, GainElementType.HeroGain);
                break;
            case ButtonType.HoursePanel:
                itemViewDic = HourseViewDic;
                InitGainPanelCallBack(ButtonType.HoursePanel, itemViewDic, GainElementType.HourseGain);
                break;
            default:
                break;
        }
    }

    //动态加载物品
    private void InitGainPanelCallBack(ButtonType Btn, Dictionary<string, GainItem> itemViewDic, GainElementType gainType)
    {

        for (int i = 0; i < GainList.Count; i++)
        {
            if (GainList[i].IsExisit == 1 && GainList[i].GainElementType == (int)gainType)
            {
                ItemCreate(GainList[i], i, Btn);
            }
        }



        InstanceFinalObject();
    }

    // 生成一个物体
    void ItemCreate(GainEntity gainEntity,int index, ButtonType Btn)
    {
        GameObject Go = Instantiate(gainItem);
        Go.transform.localScale = Vector3.one;
        Go.transform.SetParent(Content);
        Go.name = gainEntity.GainElementName;
        Go.GetComponent<GainItem>().SetGainItemUIData(SetLock,index, Go.name,GameEntry.LoadImg.Img(Btn,gainEntity.GainElement_Pic),false);

        //itemViewDic.Add(Go.name,Item)

        if (itemViewDic.Count > 0) 
        {


        }

    }




    private void SetLock(Dictionary<string, GainItem> myDict)
    {
        int trueCount = 0;
        foreach (var item in myDict)
        {
            if (item.Value == true)
            {
                trueCount++;
            }
        }



    }
    private void LockObj(int nextIndex)
    {

    }

    // Start is called before the first frame update
    void Start()
    {

    }

    // Update is called once per frame
    void Update()
    {

    }

    // 删除内容的方法
    private void deleteContent()
    {
        // 获取当前 Content 的所有子节点
        Transform[] childTransforms = Content.GetComponentsInChildren<Transform>(true);
        // 遍历所有子节点并删除
        foreach (Transform child in childTransforms)
        {
            // 只销毁子节点，而不是父节点本身
            if (child != Content)
            {
                Destroy(child.gameObject);
            }
        }
    }


    // 加载最后两个物体
    private void InstanceFinalObject()
    {
        GameObject GG = Instantiate(g_Items);

        GG.transform.SetParent(Content);
        GG.transform.localScale = Vector3.one;
        // 这里显示第一个
        //showNum++;
        //GG.GetComponent<UnLockItem>().SetUnLockItemUIData(LockObj, showLoveNum, sprite);

        GameObject NN = Instantiate(null_Items);
        NN.transform.SetParent(Content);
        NN.transform.localScale = Vector3.one;
        NN.SetActive(false);
    }


    // 切换背景
    private void ChangeBg(ButtonType bt)
    {

        switch (bt)
        {
            case ButtonType.LovePanel:

                HourseSelect.gameObject.SetActive(false);
                FriendSelect.gameObject.SetActive(false);
                LoveSelect.gameObject.SetActive(true);

                imgTop.GetComponent<Image>().sprite = myImageSprite[0];

                break;
            case ButtonType.FriendPanel:
                HourseSelect.gameObject.SetActive(false);
                FriendSelect.gameObject.SetActive(true);
                LoveSelect.gameObject.SetActive(false);

                imgTop.GetComponent<Image>().sprite = myImageSprite[1];

                break;
            case ButtonType.HoursePanel:

                HourseSelect.gameObject.SetActive(true);
                FriendSelect.gameObject.SetActive(false);
                LoveSelect.gameObject.SetActive(false);

                imgTop.GetComponent<Image>().sprite = myImageSprite[2];

                break;
            default:
                break;
        }

    }
}


```