---
title: 面试题2
date:
  "{ date }": 
categories:
  - 面试
tags:
  - CSharp
  - Unity
---

**1. 请说说你认为C#中 == 和 Equals 的区别是什么？**
1. == 是运算符，Equals是万物之父Object中的虚方法，子类可重写 
2. Equals 一般在子类中重写后用于比较两个对象中内容是否相同 
3. \==在没有运算符重载的前提下时:引用类型用于比较地址；值类型用于比较值是否相同
4. 运算效率不同，一般Equals没有\==效率高，因为一般Equals比较的内容比\==多


**2.** **浅拷贝和深拷贝的区别？可以举例说明**

浅拷贝： 只复制对象的引用地址,两个对象指向同一内存地址，修改其中一个另一个也会随之变化 
深拷贝： 将对象和值赋值过来，两个对象修改其中任意值都不会影响对方
举例： 比如引用对象A和引用对象B 让A = B，就是浅拷贝，此时A、B的引用地址相同，改A中内容，B也变 如果想要深拷贝，简单处理就是new（包括对象中的成员）
```C#
class Person
{
    public string Name { get; set; }
}
Person A = new Person { Name = "Alice" };
Person B = new Person { Name = A.Name };
A.Name = "Bob";
Console.WriteLine(B.Name); 
```

**3. 下面两种获10000个数的方式，哪种效率更高？为什么?**

![](https://scf1a0b4c9d9e6od-sb-qn.qiqiuyun.net/files/course/2024/10-20/10070267dadf882625.png)
第二种，因为第二种中的数组内存大小是定义好的。这样更快而不是像第一种中不断开辟新的内存空间。

**4. 请说出下方代码中**

    **1.A处和B处谁先打印？**
b先打印
    **2.A、B出打印的i值分别是多少？**
   执行了`return`语句，但在函数真正返回之前，`finally`块会被执行
A:10; B:11;
![](https://scf1a0b4c9d9e6od-sb-qn.qiqiuyun.net/files/course/2024/10-20/100711f82032207992.png)

**5. 请问A、B两处 i 的值为多少？**

![](https://scf1a0b4c9d9e6od-sb-qn.qiqiuyun.net/files/course/2024/10-20/1007208a759e808200.png)

![](https://scf1a0b4c9d9e6od-sb-qn.qiqiuyun.net/files/course/2024/10-20/1007280989c4043995.png)
A:11 B:11
这里是引用类型

**Unity**

**1.** **Unity中当一个细小高速物体撞击另一个较大物体时，会出现什么情况？如何避免？**

可能会出现直接穿过较大物体
我们可以尽量用射线检测来替代细小物体的物理系统碰撞 因为传统的FPS游戏都是通过射线检测加模拟计算来判断伤害。
修改Rigidbody刚体中的Interpolate（插值）和CollisionDetection（碰撞检测）两个参数，来提高碰撞检测的准确性

**2. 请简述一下Prefab（预制体）的本质是什么？**
本质就是一个配置文件：其中记录了一个GameObject对象上挂载的脚本信息，并且记录了脚本信息中的可配置的属性信息。

**3.Unity是否支持写成多线程程序？如果支持的话需要注意什么？**
1.只能从主线程访问Unity相关组件、对象以及 UnityEngine命名空间中的绝大部分内容 2.如果多线程中要和Unity主线程同时修改一些数据 可以通过lock关键词加锁

**4. 请简述一下对象池，在游戏开发中我们什么时候会用到它？**

对象池的主要作用是 避免大量创建对象再释放对象时造成的内存消耗，可以有效降低GC发生的频率。我们把不用的对象放入对象池中而不是让它直接变为垃圾，下次需要用到对象时再从对象池中获取，我们通过占用内存来避免更多的内存消耗和GC的发生
在游戏中频繁创建对象、实例化对象的地方，都可以用到对象池。 比如游戏中的子弹、伤害字体、特效等等

**5. 什么是DrawCall？DrawCall为什么会影响游戏运行效率？如何减少DrawCall？**
DrawCall 是指 CPU 向 GPU 发送渲染命令的操作。

游戏效率方面
通信开销：每一次通信传输都会有开销
状态切换：每次DrawCall会有许多种渲染状态材质、纹理、光照模型等，GPU 在处理不同渲染状态时，需要进行相应的设置和调整

如何减少
2D和UI层面:使用一些工具（如 Sprite Packers等）打图集

3D模型层面：利用动态批处理和静态批处理，尽量不使用实时光照和实时阴影